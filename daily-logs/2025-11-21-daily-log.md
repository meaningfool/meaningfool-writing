---
title: "Activity Log - 2025-11-21"
date: 2025-11-21
---

## Analysis

- **Completed Edge Import feature (6 TDD cycles)**:
  - Cycle 1: Dual dropzone UI (separate zones for nodes and edges)
  - Cycle 2: Edge passthrough (accept edges file without breaking node import)
  - Cycle 3: Parsing & referential integrity (validate edges point to existing nodes)
  - Cycle 4: Graph rendering (display edges on ReactFlow canvas)
  - Cycle 5: Cascading validation (drop edges pointing to invalid/dropped nodes)
  - Cycle 6: Synthetic IDs & silent deduplication (auto-generate edge IDs, silently merge parallel edges)
  - Decision: Edges only require `source` and `target` columns (no `id` or `label` needed)

- **Started Column Mapping Wizard (3 TDD cycles completed)**:
  - Allows users with non-standard CSV schemas to map their columns (e.g., `node_id` â†’ `id`)
  - Cycle 1: ID mapping UI with validation (Next button disabled until mapped)
  - Cycle 2: Title & Type mapping with combined validation
  - Cycle 3: Functional node mapping (actually use mapped columns during import)
  - Cycle 4 (planned): Edge mapping

- **Created feature roadmap**:
  - Column Mapping Wizard: Flexible CSV schema support
  - Node Properties: Import and display additional CSV columns as metadata
  - Graph Validation: Visual feedback for lineage rule violations (orphans, invalid STEP nodes, cycles)

## Learnings

- **Avoid Non-Null Assertions (`!`)**: Using `!` to bypass TypeScript's null checks creates hidden dependencies between validation and usage logic. Prefer explicit runtime guards or destructuring with checks to narrow types safely.

## Raw Commits

- `0159701` docs: add learnings about TS non-null assertions
- `80db719` refactor: remove non-null assertions in csv import
- `8eb56bd` feat: implement Cycle 3 functional node mapping
- `213ec30` feat: implement Cycle 2 Title and Type mapping UI
- `1741b20` feat: implement Cycle 1 ID mapping UI and validation
- `21fa080` docs: add roadmap for column mapping, node properties, and graph validation
- `049f53d` feat: edge import with dual CSV support, validation & synthetic IDs
- `66c662e` feat: complete edge import cycle 6 (synthetic IDs & dedup) + UI polish
- `ad6c9e1` feat: complete edge import cycle 5 (cascading validation)
- `94c7858` feat: complete edge import cycle 4 (graph rendering)
